{"version":3,"file":"index.esm.js","sources":["../src/components/Input/index.tsx","../schema/mermaid.ts","../src/index.ts"],"sourcesContent":["import React, { useCallback } from 'react';\n\nimport {\n  set,\n  StringInputProps,\n  unset,\n} from 'sanity';\n\nimport {\n  Stack,\n  Text,\n  TextInput,\n} from '@sanity/ui';\n\nexport default function CustomStringInput(props: StringInputProps) {\n  const {onChange, value = '', elementProps } = props\n  const handleChange = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) =>\n      onChange(event.currentTarget.value ? set(event.currentTarget.value) : unset()),\n    [onChange]\n  )\n  return (\n    <Stack space={3}>\n      <TextInput {...elementProps} onChange={handleChange} value={value} />\n      <Text size={1}>Characters: {value?.length || 0}</Text>\n    </Stack>\n  )\n}","import {\n  defineField,\n  defineType,\n} from 'sanity';\n\nimport Input from '../src/components/Input';\n\nexport default defineType({\n  title: 'Mermaid graph',\n  name: 'mermaid',\n  type: 'object',\n  fields: [\n    defineField({\n      type: 'text',\n      name: 'definition',\n      title: 'Graph definition',\n      components: {\n        input: Input,\n      },\n    }),\n  ],\n})\n","import { definePlugin } from 'sanity';\n\nimport mermaid from '../schema/mermaid';\n\ninterface mermaidChartsConfig {\n  /* nothing here yet */\n}\n\n/**\n * Usage in `sanity.config.ts` (or .js)\n *\n * ```ts\n * import {defineConfig} from 'sanity'\n * import {mermaidCharts} from 'sanity-plugin-mermaid-charts'\n *\n * export default defineConfig({\n *   // ...\n *   plugins: [mermaidCharts()],\n * })\n * ```\n */\n\nexport const mermaidCharts = definePlugin<mermaidChartsConfig | void>((config = {}) => {\n  return {\n    name: 'sanity-plugin-mermaid-charts',\n    schema: {\n      types: [mermaid],\n    }\n  }\n})\n"],"names":["CustomStringInput","props","onChange","value","elementProps","handleChange","useCallback","event","currentTarget","set","unset","jsxs","Stack","space","children","jsx","TextInput","Text","size","length","mermaid","defineType","title","name","type","fields","defineField","components","input","Input","mermaidCharts","definePlugin","config","arguments","undefined","schema","types"],"mappings":";;;;AAcA,SAAwBA,kBAAkBC,KAAyB,EAAA;EACjE,MAAM;IAACC,QAAA;IAAUC,KAAQ,GAAA,EAAA;IAAIC;GAAiB,GAAAH,KAAA;EAC9C,MAAMI,YAAe,GAAAC,WAAA,CAClBC,KAAA,IACCL,QAAS,CAAAK,KAAA,CAAMC,aAAc,CAAAL,KAAA,GAAQM,GAAI,CAAAF,KAAA,CAAMC,aAAc,CAAAL,KAAK,CAAI,GAAAO,KAAA,CAAA,CAAO,CAAA,EAC/E,CAACR,QAAQ,CAAA,CACX;EAEE,OAAA,eAAAS,IAAA,CAACC,KAAM,EAAA;IAAAC,KAAA,EAAO,CACZ;IAAAC,QAAA,EAAA,CAAA,eAAAC,GAAA,CAACC,SAAW,EAAA;MAAA,GAAGZ,YAAc;MAAAF,QAAA,EAAUG;MAAcF;KAAc,CAAA,EACnE,eAAAQ,IAAA,CAACM,IAAK,EAAA;MAAAC,IAAA,EAAM,CAAG;MAAAJ,QAAA,EAAA,CAAA,cAAA,EAAA,CAAaX,+BAAOgB,MAAU,KAAA,CAAA;KAAE,CAAA;EACjD,CAAA,CAAA;AAEJ;ACpBA,IAAAC,OAAA,GAAeC,UAAW,CAAA;EACxBC,KAAO,EAAA,eAAA;EACPC,IAAM,EAAA,SAAA;EACNC,IAAM,EAAA,QAAA;EACNC,MAAQ,EAAA,CACNC,WAAY,CAAA;IACVF,IAAM,EAAA,MAAA;IACND,IAAM,EAAA,YAAA;IACND,KAAO,EAAA,kBAAA;IACPK,UAAY,EAAA;MACVC,KAAO,EAAAC;IACT;EAAA,CACD,CAAA;AAEL,CAAC,CAAA;ACCM,MAAMC,aAAgB,GAAAC,YAAA,CAAyC,YAAiB;EAAA,IAAhBC,MAAA,GAAAC,SAAA,CAAAd,MAAA,QAAAc,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAS,EAAO;EAC9E,OAAA;IACLV,IAAM,EAAA,8BAAA;IACNY,MAAQ,EAAA;MACNC,KAAA,EAAO,CAAChB,OAAO;IACjB;EAAA,CACF;AACF,CAAC,CAAA;"}